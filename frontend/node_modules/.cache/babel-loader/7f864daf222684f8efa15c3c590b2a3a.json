{"ast":null,"code":"var _jsxFileName = \"/Users/leocao/T18B-Blue/src/components/Hangman/HangmanGame.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { TailSpin } from 'svg-loaders-react';\nimport { LifeDisplay } from './LifeDisplay';\nimport { WordDisplay } from './WordDisplay';\nimport { IncorrectLetterDisplay } from './IncorrectLetterDisplay';\nexport class HangmanGame extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inProgress: false,\n      guesses: [],\n      lives: -1,\n      incorrectLetters: [],\n      channel_id: this.props.channel_id,\n      token: this.props.token,\n      current_hangman_id: this.props.current_hangman_id\n    };\n    this.toggleOn = this.toggleOn.bind(this);\n    this.checkActive = this.checkActive.bind(this);\n    this.updateData = this.updateData.bind(this);\n    this.timerCheckUpdated = this.timerCheckUpdated.bind(this);\n    this.checkGameFinished = this.checkGameFinished.bind(this);\n    this.getAnswer = this.getAnswer.bind(this);\n    this.updateDataOnLastLife = this.updateDataOnLastLife.bind(this);\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.timerCheckUpdated(), 7500);\n\n    if (this.checkActive()) {\n      this.updateData();\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  timerCheckUpdated() {\n    console.log(\"Checking data\");\n    var initialState = this.state.inProgress;\n    console.log(\"Initial state: \" + initialState); // If game not in progress, check if the game has started\n\n    if (!this.state.inProgress) {\n      // Call /hangman/active\n      var newState = this.checkActive(); // check if the state has changed\n\n      console.log(\"New state: \" + newState);\n\n      if (initialState !== newState) {\n        // the state has changed... get the data\n        this.updateData();\n      }\n    } else {\n      // the game is already in progress\n      // check for new data\n      if (this.state.lives === 1) {\n        // the game may have finished but we are unaware\n        this.updateDataOnLastLife();\n      } else {\n        this.updateData();\n      }\n    }\n\n    console.log(\"Updated guesses:\" + this.state.guesses);\n  }\n\n  toggleOn() {\n    console.log(\"Game toggled on\");\n    this.setState({\n      inProgress: true\n    });\n  }\n\n  checkActive() {\n    var token = this.props.token;\n    var channel_id = this.props.channel_id;\n    var in_progress = this.state.inProgress;\n    axios.get('/hangman/active', {\n      params: {\n        token,\n        channel_id\n      }\n    }).then(({\n      data\n    }) => {\n      if (data.in_progress === true) {\n        this.setState({\n          inProgress: true\n        });\n        in_progress = true;\n        console.log(\"New state after checking... \" + this.state.inProgress);\n        return true;\n      }\n    }).catch(err => {});\n    return in_progress;\n  }\n\n  updateDataOnLastLife() {\n    var token = this.props.token;\n    var channel_id = this.props.channel_id;\n    axios.get('/hangman/details', {\n      params: {\n        token,\n        channel_id\n      }\n    }).then(({\n      data\n    }) => {\n      const {\n        lives,\n        guesses,\n        incorrect_guesses,\n        current_hangman_id\n      } = data;\n      this.setState({\n        lives: lives,\n        guesses: guesses,\n        incorrectLetters: incorrect_guesses,\n        current_hangman_id: current_hangman_id\n      });\n      this.checkGameFinished(guesses);\n      this.setState({\n        lives: 0\n      });\n      this.checkGameFinished(this.state.guesses);\n    });\n  }\n\n  updateData() {\n    var token = this.props.token;\n    var channel_id = this.props.channel_id;\n    var return_list = [];\n    var return_data = {};\n    axios.get('/hangman/details', {\n      params: {\n        token,\n        channel_id\n      }\n    }).then(({\n      data\n    }) => {\n      const {\n        lives,\n        guesses,\n        incorrect_guesses,\n        current_hangman_id\n      } = data;\n      this.setState({\n        lives: lives,\n        guesses: guesses,\n        incorrectLetters: incorrect_guesses,\n        current_hangman_id: current_hangman_id\n      });\n      this.checkGameFinished(guesses);\n    }).catch(err => {\n      this.checkGameFinished(this.state.guesses);\n    });\n  }\n\n  checkGameFinished(guesses) {\n    if (!guesses.includes(null)) {\n      // the game has finished\n      this.setState({\n        inProgress: false,\n        lives: -1\n      });\n      alert(\"You won! Good job!\");\n    } else if (this.state.lives === 0) {\n      this.setState({\n        inProgress: false,\n        lives: -1\n      });\n      this.getAnswer();\n    }\n  }\n\n  getAnswer() {\n    var token = this.props.token;\n    var channel_id = this.props.channel_id;\n    var current_hangman_id = this.state.current_hangman_id;\n    axios.get('/hangman/answer', {\n      params: {\n        token,\n        channel_id,\n        current_hangman_id\n      }\n    }).then(({\n      data\n    }) => {\n      alert(\"You lost! The word was: \" + data.answer);\n    }).catch(err => {\n      alert(\"You lost!\\nDue to an error the correct answer could not be retrieved.\");\n    });\n  }\n\n  render() {\n    if (this.state.inProgress) {\n      if (this.state.lives === -1) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, \"Loading...\"), React.createElement(TailSpin, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(WordDisplay, {\n          guesses: this.state.guesses,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }), React.createElement(LifeDisplay, {\n          lives: this.state.lives,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }), React.createElement(IncorrectLetterDisplay, {\n          incorrectLetters: this.state.incorrectLetters,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }));\n      }\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Game not in progress... Type `/hangman` to start!\"));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/leocao/T18B-Blue/src/components/Hangman/HangmanGame.jsx"],"names":["React","axios","TailSpin","LifeDisplay","WordDisplay","IncorrectLetterDisplay","HangmanGame","Component","constructor","props","state","inProgress","guesses","lives","incorrectLetters","channel_id","token","current_hangman_id","toggleOn","bind","checkActive","updateData","timerCheckUpdated","checkGameFinished","getAnswer","updateDataOnLastLife","componentDidMount","interval","setInterval","componentWillUnmount","clearInterval","console","log","initialState","newState","setState","in_progress","get","params","then","data","catch","err","incorrect_guesses","return_list","return_data","includes","alert","answer","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { TailSpin } from 'svg-loaders-react'\nimport { LifeDisplay } from './LifeDisplay';\nimport { WordDisplay } from './WordDisplay';\nimport { IncorrectLetterDisplay } from './IncorrectLetterDisplay';\n\nexport class HangmanGame extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            inProgress: false,\n            guesses: [],\n            lives: -1,\n            incorrectLetters: [],\n            channel_id: this.props.channel_id,\n            token: this.props.token,\n            current_hangman_id: this.props.current_hangman_id,\n        }\n\n\n        this.toggleOn = this.toggleOn.bind(this);\n        this.checkActive = this.checkActive.bind(this);\n        this.updateData = this.updateData.bind(this);\n        this.timerCheckUpdated = this.timerCheckUpdated.bind(this);\n        this.checkGameFinished = this.checkGameFinished.bind(this);\n        this.getAnswer = this.getAnswer.bind(this);\n        this.updateDataOnLastLife = this.updateDataOnLastLife.bind(this);\n    }\n\n    componentDidMount() {\n        this.interval = setInterval(() => this.timerCheckUpdated(), 7500);\n\n        if (this.checkActive()) {\n            this.updateData();\n        }\n\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval)\n    }\n\n    timerCheckUpdated() {\n        console.log(\"Checking data\")\n        var initialState = this.state.inProgress;\n        console.log(\"Initial state: \" + initialState);\n        // If game not in progress, check if the game has started\n        if (!this.state.inProgress) {\n            // Call /hangman/active\n            var newState = this.checkActive();\n            // check if the state has changed\n            console.log(\"New state: \" + newState);\n            if (initialState !== newState) {\n                // the state has changed... get the data\n                this.updateData();\n            }\n        } else {\n            // the game is already in progress\n            // check for new data\n            if (this.state.lives === 1) {\n                // the game may have finished but we are unaware\n                this.updateDataOnLastLife();\n            } else {\n                this.updateData();\n            }\n\n        }\n        console.log(\"Updated guesses:\" + this.state.guesses);\n    }\n\n    toggleOn() {\n        console.log(\"Game toggled on\");\n        this.setState({ inProgress: true });\n    }\n\n    checkActive() {\n        var token = this.props.token;\n        var channel_id = this.props.channel_id;\n        var in_progress = this.state.inProgress;\n        axios\n            .get('/hangman/active', {\n                params: {\n                    token,\n                    channel_id,\n                },\n            })\n            .then(({ data }) => {\n                if (data.in_progress === true) {\n                    this.setState({\n                        inProgress: true,\n                    });\n                    in_progress = true;\n                    console.log(\"New state after checking... \" + this.state.inProgress);\n                    return true;\n                }\n            }).catch((err) => { });\n        return in_progress;\n    }\n\n    updateDataOnLastLife() {\n        var token = this.props.token;\n        var channel_id = this.props.channel_id;\n        axios\n            .get('/hangman/details', {\n                params: {\n                    token,\n                    channel_id,\n                },\n            })\n            .then(({ data }) => {\n                const { lives, guesses, incorrect_guesses, current_hangman_id } = data;\n                this.setState({\n                    lives: lives,\n                    guesses: guesses,\n                    incorrectLetters: incorrect_guesses,\n                    current_hangman_id: current_hangman_id,\n                })\n                this.checkGameFinished(guesses);\n                this.setState({ lives: 0 });\n                this.checkGameFinished(this.state.guesses);\n            });\n    }\n\n\n    updateData() {\n        var token = this.props.token;\n        var channel_id = this.props.channel_id;\n        var return_list = [];\n        var return_data = {};\n        axios\n            .get('/hangman/details', {\n                params: {\n                    token,\n                    channel_id,\n                },\n            })\n            .then(({ data }) => {\n                const { lives, guesses, incorrect_guesses, current_hangman_id } = data;\n                this.setState({\n                    lives: lives,\n                    guesses: guesses,\n                    incorrectLetters: incorrect_guesses,\n                    current_hangman_id: current_hangman_id,\n                })\n                this.checkGameFinished(guesses);\n            }).catch((err) => {\n                this.checkGameFinished(this.state.guesses);\n            });\n    }\n\n    checkGameFinished(guesses) {\n        if (!guesses.includes(null)) {\n            // the game has finished\n            this.setState({ inProgress: false, lives: -1 });\n            alert(\"You won! Good job!\")\n        } else if (this.state.lives === 0) {\n            this.setState({ inProgress: false, lives: -1 });\n            this.getAnswer();\n        }\n    }\n\n    getAnswer() {\n        var token = this.props.token;\n        var channel_id = this.props.channel_id;\n        var current_hangman_id = this.state.current_hangman_id;\n        axios.get('/hangman/answer', {\n            params: {\n                token,\n                channel_id,\n                current_hangman_id,\n            },\n        })\n            .then(({ data }) => {\n                alert(\"You lost! The word was: \" + data.answer);\n            })\n            .catch((err) => {\n                alert(\"You lost!\\nDue to an error the correct answer could not be retrieved.\");\n            });\n    }\n\n    render() {\n        if (this.state.inProgress) {\n            if (this.state.lives === -1) {\n                return <div>\n                    <h2>Loading...</h2>\n                    <TailSpin />\n                </div>\n            } else {\n                return <div>\n                    <WordDisplay guesses={this.state.guesses} />\n                    <LifeDisplay lives={this.state.lives} />\n                    <IncorrectLetterDisplay incorrectLetters={this.state.incorrectLetters} />\n                </div>\n            }\n\n        } else {\n            return <div>\n                <h3>Game not in progress... Type `/hangman` to start!</h3>\n            </div>\n        }\n\n    }\n}"]},"metadata":{},"sourceType":"module"}